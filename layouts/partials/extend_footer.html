<!-- Language switcher -->
<script>
(function() {
    const nav = document.querySelector('.nav');
    if (!nav) return;
    
    const currentPath = window.location.pathname;
    const isZh = currentPath.startsWith('/zh');
    
    const langLink = document.createElement('a');
    langLink.style.cssText = 'margin-left: 1rem; padding: 0.2rem 0.6rem; border-radius: 4px; font-size: 0.85rem; opacity: 0.8; transition: opacity 0.2s;';
    langLink.onmouseover = function() { this.style.opacity = '1'; };
    langLink.onmouseout = function() { this.style.opacity = '0.8'; };
    
    if (isZh) {
        // 在中文页面显示 EN 按钮
        langLink.href = currentPath.replace('/zh', '') || '/';
        langLink.textContent = 'EN';
    } else {
        // 在英文页面显示 中文 按钮
        langLink.href = '/zh' + currentPath;
        langLink.textContent = '中文';
    }
    
    const logoSwitches = nav.querySelector('.logo-switches');
    if (logoSwitches) {
        logoSwitches.appendChild(langLink);
    }
})();
</script>
